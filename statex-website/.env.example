# ======================
# IMPORTANT: USER_UID Configuration
# ======================
# USER_UID will be automatically detected and updated by scripts:
# - Development: Uses current user UID (e.g., 501 on macOS, 1000 on Linux)
# - Production: Uses PRODUCTION_USER_UID if set, otherwise defaults to 1002
# - No need to manually update .env files when deploying to different servers
# ======================

# ======================
# ======================
# - Development: Uses current user UID (e.g., 501 on macOS, 1000 on Linux)
# - No need to manually update .env files when deploying to different servers
# ======================
# ======================
# Application Environment
# ======================
NODE_ENV=development
APP_NAME=Statex
APP_URL=http://localhost:3000
API_URL=http://localhost:4000/api
PORT=3000

# ======================
# Debug configuration
# ======================
DEBUG=true

# ======================
# Server Configuration
# ======================
HOST=0.0.0.0
TRUST_PROXY=loopback,linklocal,uniquelocal

# ======================
# Nginx Configuration
# ======================
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# ======================
# Domain Configuration
# ======================
VIRTUAL_HOST=statex.cz
LETSENCRYPT_HOST=statex.cz
LETSENCRYPT_EMAIL=admin@statex.cz

# ======================
# SSL Configuration
# ======================
SSL_MODE=development
DEFAULT_HOST=statex.cz
ALLOW_SELF_SIGNED=true
SSL_CERT_PATH=./ssl/cert.pem
SSL_KEY_PATH=./ssl/key.pem
BASE_URL=https://statex.cz

# ======================
# Database Configuration
# ======================
DATABASE_URL=postgresql://statex:statexpass@postgres:5432/statex_${NODE_ENV}
DB_HOST=postgres
DB_PORT=5432
DB_NAME=statex_${NODE_ENV}
DB_USER=statex
DB_PASSWORD=statexpass
DB_SSL=false

# ======================
# Redis Configuration
# ======================
REDIS_URL=redis://redis:6379
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=

# ======================
# Authentication
# ======================
JWT_SECRET=your-secret-key-change-in-production
JWT_EXPIRES_IN=7d
JWT_COOKIE_EXPIRES_IN=7
REFRESH_TOKEN_EXPIRES_IN=30d
COOKIE_SECRET=your-cookie-secret-change-in-production

# ======================
# Email Configuration
# ======================
# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-specific-password
SMTP_FROM='\${APP_NAME} <\${SMTP_USER}>'

# Development Email Settings
MAIL_DEV_INBOX=./emails

# ======================
# Rate Limiting
# ======================
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX=100

# ======================
# CORS Configuration
# ======================
CORS_ORIGIN=http://localhost:3000
CORS_METHODS=GET,HEAD,PUT,PATCH,POST,DELETE
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400

# ======================
# Logging
# ======================
LOG_LEVEL=debug
LOG_FORMAT=dev
LOG_FILE=logs/app.log

# ======================
# Uploads
# ======================
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=50MB
MAX_FILES=10

# ======================
# Session
# ======================
SESSION_SECRET=your-session-secret-change-in-production
SESSION_COOKIE_MAX_AGE=2592000000  # 30 days
# For production servers, you can override with:

# ======================
# User Configuration
# ======================
# USER_UID will be automatically detected by scripts
# For production servers, you can override with:
# PRODUCTION_USER_UID=1002
USER_UID=
